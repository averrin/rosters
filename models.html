<html>
    <head>
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="bower_components/materialize/dist/css/materialize.min.css"  media="screen,projection"/>
      <link type="text/css" rel="stylesheet" href="style.css"  media="screen,projection"/>
      <meta charset="UTF-8">

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
      <link rel="icon" href="images/fav.ico" sizes="32x32">

      <title>Warhammer models</title>

    </head>

    <body>
    <img src="images/seal.png" class="right" style="margin-right: 40px; margin-top: 6px;">

    <nav>
	    <ul id="slide-out" class="side-nav fixed">
	    	<li class="grey darken-4">Averrin's WH40k</li>
		    <li><a href="..">Rosters</a></li>
		    <li class="active"><a href="models.html">Models</a></li>
		    <li><a href="http://wh40k.averr.in">Blog</a></li>
	    </ul>
	    <a href="#" data-activates="slide-out" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
    </nav>


    <main>
     <div class="container">
     	<h4>My models</h4>
    	<div id="models">
    		<table>
    			<thead>
    				<tr>
    					<th>Name</th>
    					<th>Count</th>
    					<th>Faction</th>
    					<th>Paint %</th>
    				</tr>
    			</thead>
    			<tbody>
    				
    			</tbody>
    		</table>
    	</div>
  	 </div>
	</main>

      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
      <script type="text/javascript" src="bower_components/mustache/mustache.min.js"></script>
      <script type="text/javascript" src="bower_components/materialize/dist/js/materialize.min.js"></script>
      <script type="text/javascript">
      		$(".button-collapse").sideNav();
      		var template = '{{#items}}' +
      		'<tr>' +
      			'<td>{{name}}</td>' +
      			'<td>{{count}}</td>' +
      			'<td>{{faction}}</td>' +
      			'<td>{{paint}}</td>' +
      		'</tr>' +
      		'{{/items}}';
			$.get("data/collection.json", function(data){
				$.each(data, function(i, e){
					e.paint = function(){
						return this.painted / this.count * 100;
					}
				})
				$('#models tbody').html(Mustache.render(template, {items: data}))
			})
      </script>
    </body>
  </html>

