<html>
    <head>
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="bower_components/materialize/dist/css/materialize.min.css"  media="screen,projection"/>
      <link type="text/css" rel="stylesheet" href="style.css"  media="screen,projection"/>
      <meta charset="UTF-8">

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
      <link rel="icon" href="images/fav.ico" sizes="32x32">

      <title>Warhammer rosters</title>

    </head>

    <body>
    <img src="images/seal.png" class="right" style="margin-right: 40px">
    <div class="container">
    	<div id="rosters"></div>
		<a class="waves-effect waves-light btn teal darken-4 white-text" href="rosters.pdf">
	  		Print version
	  	</a>
	  	&nbsp;
	  	<a class="waves-effect waves-light btn brown darken-4 white-text" href="https://github.com/averrin/rosters">
	  		GitHub
	  	</a>
	</div>

      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
      <script type="text/javascript" src="bower_components/mustache/mustache.min.js"></script>
      <script type="text/javascript" src="bower_components/materialize/dist/js/materialize.min.js"></script>
      <script type="text/javascript">
      		var template = '<h4>{{category}}</h4>' +
      		'<div class="collection">' +
      		'{{#items}}' +
			'  <a class="collection-item {{class}}" href="rosters/{{html}}">{{title}}</a>' +
			'  	<a class="waves-effect waves-light btn secondary-content dropdown-button" href="#" data-activates="dd-{{class}}">' +
			'  		download' +
			'  	</a>' +
			'  <ul id="dd-{{class}}" class="dropdown-content">' +
			'    <li><a href="sources/{{rosz}}">Source (rosz)</a></li>' +
			'    <li><a href="pdf/{{pdf}}">PDF</a></li>' +
			'  </ul>' +
			'{{/items}}' +
			'</div>';
			$.get("data/rosters.json", function(data){
				$('#rosters').html('');
				$.each(data, function(key, value){
					$('#rosters').append(Mustache.render(template, {category: key, items: value}))
				})
				$('.dropdown-button').dropdown({
				      inDuration: 300,
				      outDuration: 225,
				      constrain_width: false, // Does not change width of dropdown to that of the activator
				      hover: false, // Activate on click
				      alignment: 'left', // Aligns dropdown to left or right edge (works with constrain_width)
				      gutter: 0, // Spacing from edge
				      belowOrigin: false // Displays dropdown below the button
				    }
				  );
			})
      </script>
    </body>
  </html>

